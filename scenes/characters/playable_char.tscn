[gd_scene load_steps=59 format=3 uid="uid://cday53347fn87"]

[ext_resource type="Script" path="res://scripts/playable_char.gd" id="1_cc565"]
[ext_resource type="Texture2D" uid="uid://0jjienyapijm" path="res://resources/assets/bomb/Sprite-0001.png" id="2_qylr5"]
[ext_resource type="PackedScene" uid="uid://utys7bhb5cx5" path="res://scenes/ui/gui.tscn" id="2_usxjd"]
[ext_resource type="Texture2D" uid="uid://b4nx8xytfn4uj" path="res://resources/assets/bomb/Sprite-0002.png" id="3_i60jv"]
[ext_resource type="Texture2D" uid="uid://jcyic0mjku1p" path="res://resources/assets/bomb/Sprite-0003.png" id="4_gevrx"]
[ext_resource type="Texture2D" uid="uid://bjhyu5kt4ja0t" path="res://resources/assets/bomb/Sprite-0004.png" id="5_m3lfk"]
[ext_resource type="Texture2D" uid="uid://b56hxk3t02tib" path="res://resources/assets/bomb/Sprite-0005.png" id="6_eydq8"]
[ext_resource type="Texture2D" uid="uid://cc12kgk6w4tek" path="res://resources/assets/bomb/Sprite-0006.png" id="7_e3b3r"]
[ext_resource type="Texture2D" uid="uid://dq5ey8nd3lrsp" path="res://resources/assets/bomb/Sprite-0007.png" id="8_w7dbc"]
[ext_resource type="Texture2D" uid="uid://cn0bkfg4puwc1" path="res://resources/assets/bomb/Sprite-0008.png" id="9_grohx"]

[sub_resource type="SpriteFrames" id="SpriteFrames_kjfdo"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_qylr5")
}, {
"duration": 1.0,
"texture": ExtResource("3_i60jv")
}, {
"duration": 1.0,
"texture": ExtResource("4_gevrx")
}, {
"duration": 1.0,
"texture": ExtResource("5_m3lfk")
}, {
"duration": 1.0,
"texture": ExtResource("6_eydq8")
}, {
"duration": 1.0,
"texture": ExtResource("7_e3b3r")
}, {
"duration": 1.0,
"texture": ExtResource("8_w7dbc")
}, {
"duration": 1.0,
"texture": ExtResource("9_grohx")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_kjoxj"]

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_clwe1"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/sync = true
properties/0/watch = false
properties/1/path = NodePath(".:rotation")
properties/1/spawn = true
properties/1/sync = true
properties/1/watch = false
properties/2/path = NodePath(".:target_velocity")
properties/2/spawn = true
properties/2/sync = true
properties/2/watch = false
properties/3/path = NodePath("AnimationTree:parameters/conditions/is_landed")
properties/3/spawn = true
properties/3/sync = true
properties/3/watch = false
properties/4/path = NodePath("AnimationTree:parameters/Movement/blend_position")
properties/4/spawn = true
properties/4/sync = true
properties/4/watch = false
properties/5/path = NodePath(".:scale")
properties/5/spawn = true
properties/5/sync = true
properties/5/watch = false

[sub_resource type="BoxShape3D" id="BoxShape3D_2n0gf"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qo01g"]
animation = &"Death_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_q5aep"]
animation = &"Interact"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4y2ik"]
animation = &"Jump_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7c0ja"]
animation = &"Jump_Land"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3y428"]
animation = &"Jump_Start"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_8yf4a"]

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_ep267"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_c643i"]
graph_offset = Vector2(-438, -42)
nodes/Animation/node = SubResource("AnimationNodeAnimation_3y428")
nodes/Animation/position = Vector2(-220, 140)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_8yf4a")
nodes/TimeScale/position = Vector2(140, 140)
nodes/TimeSeek/node = SubResource("AnimationNodeTimeSeek_ep267")
nodes/TimeSeek/position = Vector2(-20, 160)
node_connections = [&"output", 0, &"TimeScale", &"TimeScale", 0, &"TimeSeek", &"TimeSeek", 0, &"Animation"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_732k0"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_spo5w"]
animation = &"Running_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7pkto"]
animation = &"Running_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uquum"]
animation = &"Running_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5fuwg"]
animation = &"Running_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sxqsu"]
animation = &"Walking_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_scnqr"]
animation = &"Walking_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b3dqy"]
animation = &"Walking_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0hbtq"]
animation = &"Walking_A"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_hxw64"]
blend_point_0/node = SubResource("AnimationNodeAnimation_732k0")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_spo5w")
blend_point_1/pos = Vector2(0, 15)
blend_point_2/node = SubResource("AnimationNodeAnimation_7pkto")
blend_point_2/pos = Vector2(0, -15)
blend_point_3/node = SubResource("AnimationNodeAnimation_uquum")
blend_point_3/pos = Vector2(15, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_5fuwg")
blend_point_4/pos = Vector2(-15, 0)
blend_point_5/node = SubResource("AnimationNodeAnimation_sxqsu")
blend_point_5/pos = Vector2(0, 7.3)
blend_point_6/node = SubResource("AnimationNodeAnimation_scnqr")
blend_point_6/pos = Vector2(7.5, 0)
blend_point_7/node = SubResource("AnimationNodeAnimation_b3dqy")
blend_point_7/pos = Vector2(0, -7.5)
blend_point_8/node = SubResource("AnimationNodeAnimation_0hbtq")
blend_point_8/pos = Vector2(-7.5, 0)
min_space = Vector2(-15, -15)
max_space = Vector2(15, 15)

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_krvd5"]
advance_mode = 2
advance_condition = &"is_landed"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7ytwu"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bi5pv"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5ssfq"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5w1y4"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pbhn1"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_u1k6i"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_htx58"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gnma2"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7wch7"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fi5w2"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hgar2"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_tkr7g"]
states/Death_A/node = SubResource("AnimationNodeAnimation_qo01g")
states/Death_A/position = Vector2(879, -26.354)
states/End/position = Vector2(1120, 107)
states/Interact/node = SubResource("AnimationNodeAnimation_q5aep")
states/Interact/position = Vector2(232, -26.354)
states/Jump_Idle/node = SubResource("AnimationNodeAnimation_4y2ik")
states/Jump_Idle/position = Vector2(559.14, 224.646)
states/Jump_Land/node = SubResource("AnimationNodeAnimation_7c0ja")
states/Jump_Land/position = Vector2(879, 224.646)
states/Jump_Start/node = SubResource("AnimationNodeBlendTree_c643i")
states/Jump_Start/position = Vector2(232, 224.646)
states/Movement/node = SubResource("AnimationNodeBlendSpace2D_hxw64")
states/Movement/position = Vector2(232, 107)
states/Start/position = Vector2(15, 107)
transitions = ["Jump_Idle", "Jump_Land", SubResource("AnimationNodeStateMachineTransition_krvd5"), "Interact", "Death_A", SubResource("AnimationNodeStateMachineTransition_7ytwu"), "Jump_Land", "Death_A", SubResource("AnimationNodeStateMachineTransition_bi5pv"), "Jump_Start", "Death_A", SubResource("AnimationNodeStateMachineTransition_5ssfq"), "Jump_Start", "Jump_Idle", SubResource("AnimationNodeStateMachineTransition_5w1y4"), "Start", "Movement", SubResource("AnimationNodeStateMachineTransition_pbhn1"), "Movement", "Jump_Start", SubResource("AnimationNodeStateMachineTransition_u1k6i"), "Movement", "Interact", SubResource("AnimationNodeStateMachineTransition_htx58"), "Movement", "Jump_Idle", SubResource("AnimationNodeStateMachineTransition_gnma2"), "Movement", "Death_A", SubResource("AnimationNodeStateMachineTransition_7wch7"), "Interact", "Movement", SubResource("AnimationNodeStateMachineTransition_fi5w2"), "Jump_Land", "Movement", SubResource("AnimationNodeStateMachineTransition_hgar2")]
graph_offset = Vector2(-141.86, -69.354)

[sub_resource type="Animation" id="Animation_oigqe"]
resource_name = "Death_A"

[sub_resource type="Animation" id="Animation_07kxd"]
resource_name = "Idle"

[sub_resource type="Animation" id="Animation_5272m"]
resource_name = "Interact"

[sub_resource type="Animation" id="Animation_xtajy"]
resource_name = "Jump_Idle"

[sub_resource type="Animation" id="Animation_u5hht"]
resource_name = "Jump_Land"

[sub_resource type="Animation" id="Animation_lcbbw"]
resource_name = "Jump_Start"

[sub_resource type="Animation" id="Animation_i4htw"]
resource_name = "Running_A"

[sub_resource type="Animation" id="Animation_84itt"]
resource_name = "Walking_A"

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ktuui"]
_data = {
"Death_A": SubResource("Animation_oigqe"),
"Idle": SubResource("Animation_07kxd"),
"Interact": SubResource("Animation_5272m"),
"Jump_Idle": SubResource("Animation_xtajy"),
"Jump_Land": SubResource("Animation_u5hht"),
"Jump_Start": SubResource("Animation_lcbbw"),
"Running_A": SubResource("Animation_i4htw"),
"Walking_A": SubResource("Animation_84itt")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_gcnu2"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ifpw1"]
emission_shape = 1
emission_sphere_radius = 4.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jfu0r"]
albedo_color = Color(0.529412, 0, 0.533333, 1)

[sub_resource type="SphereMesh" id="SphereMesh_8i6it"]
material = SubResource("StandardMaterial3D_jfu0r")
radius = 0.25
height = 0.5

[node name="character_1" type="CharacterBody3D"]
script = ExtResource("1_cc565")

[node name="Playable_characters" type="Node3D" parent="."]

[node name="Bomb_Sprite" type="AnimatedSprite3D" parent="Playable_characters"]
transform = Transform3D(0.35, 0, 0, 0, 0.35, 0, 0, 0, 0.35, 0, 3, 0)
visible = false
billboard = 1
sprite_frames = SubResource("SpriteFrames_kjfdo")
frame = 6
frame_progress = 0.898015

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_kjoxj")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.6, 0)

[node name="Camera3D" type="Camera3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 2.5, 2.5)

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_clwe1")

[node name="GUI" parent="." instance=ExtResource("2_usxjd")]

[node name="Area3D" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -1)
shape = SubResource("BoxShape3D_2n0gf")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_tkr7g")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/conditions/is_landed = false
parameters/Jump_Start/TimeScale/scale = 1.5
parameters/Jump_Start/TimeSeek/seek_request = -1.0
parameters/Movement/blend_position = Vector2(0, 0)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_ktuui")
}

[node name="power_timer" type="Timer" parent="."]
one_shot = true

[node name="Mage_TP" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -4)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Mage_TP"]
shape = SubResource("BoxShape3D_gcnu2")

[node name="Particles" type="GPUParticles3D" parent="."]
transform = Transform3D(0.0744046, 0, 0, 0, 0.270484, 0, 0, 0, 0.126813, 0, 2, 0)
emitting = false
amount = 32
lifetime = 0.5
one_shot = true
visibility_aabb = AABB(-4, -1.12968, -3.35457, 8, 2.25935, 6.70915)
process_material = SubResource("ParticleProcessMaterial_ifpw1")
draw_pass_1 = SubResource("SphereMesh_8i6it")

[connection signal="timeout" from="power_timer" to="." method="_on_power_timer_timeout"]
